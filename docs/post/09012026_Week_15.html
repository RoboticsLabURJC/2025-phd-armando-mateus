<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Armando Mateus Week 15</title>
  <link rel="stylesheet" href="../style.css">
</head>
<body>
  <header class="site-header">
    <div class="header-container">
      <img src="../images/logo.png" alt="Logo" class="logo">
      <div class="header-text">
        <h1>Robotics Lab URJC</h1>
        <p>Programming Robot Intelligence</p>
      </div>
    </div>
    <nav>
      <a href="../index.html">Home</a>
    </nav>
  </header>

  <main class="container">
    <article class="post">
      <h2>Week 15 - DAgger-Based Dataset Generation and Enhanced Model Evaluation</h2>
      <p class="date">January 9, 2026</p>
      <p><strong>Generating targeted driving examples for lane return behavior using DAgger methodology and comprehensive performance analysis</strong></p>

      <p>This week's work focused on generating specific driving examples demonstrating how the ego vehicle should return to the right lane from various starting positions and vehicle orientations. A DAgger (Dataset Aggregation) philosophy was employed to provide the necessary randomization for this purpose, creating a more diverse and representative dataset for challenging lane-return scenarios.</p>

      <p><strong>1. Dataset Generation with DAgger Methodology:</strong><br>
        The DAgger approach was implemented to systematically collect corrective driving examples, particularly focusing on lane return maneuvers. This methodology allows the autonomous system to learn from its own mistakes by aggregating expert corrections to problematic situations encountered during autonomous operation. The generated dataset includes examples from multiple starting positions and orientations, ensuring comprehensive coverage of lane-return scenarios.</p>

      <p><strong>2. Offline Testing Results - Scenario 1: STRAIGHT - RIGHT - STRAIGHT - RIGHT</strong></p>
      
      <!-- Image placeholder for MobileNet Scenario 1 -->
      <div class="image-placeholder">
        <img src="Week15_Fig1_evolucion_temporal.png" alt="Smoothed temporal evolution of real vs inferred steering for MobileNet in Scenario 1" class="blog-image" style="width: 800px; height: auto;">
        <p class="image-caption">Figure 1: Smoothed temporal evolution of real vs inferred steering for MobileNet in Scenario 1. The error analysis shows smoothed error averaging around 0.000004.</p>
      </div>

      <!-- Image placeholder for PilotNet Scenario 1 -->
      <div class="image-placeholder">
        <img src="Week15_Fig2_evolucion_temporal.png" alt="Smoothed temporal evolution of real vs inferred steering for PilotNet in Scenario 1" class="blog-image" style="width: 800px; height: auto;">
        <p class="image-caption">Figure 2: Smoothed temporal evolution of real vs inferred steering for PilotNet in Scenario 1. The smoothed error averages around -0.02887.</p>
      </div>

      <p><strong>3. Offline Testing Results - Scenario 2: SOFT LEFT - STRAIGHT LEFT</strong></p>
      
      <!-- Image placeholder for MobileNet Scenario 2 -->
      <div class="image-placeholder">
        <img src="Week15_Fig3_evolucion_temporal.png" alt="Smoothed temporal evolution of real vs inferred steering for MobileNet in Scenario 2" class="blog-image" style="width: 800px; height: auto;">
        <p class="image-caption">Figure 3: Smoothed temporal evolution of real vs inferred steering for MobileNet in Scenario 2. The smoothed error averages around 0.007719.</p>
      </div>

      <!-- Image placeholder for PilotNet Scenario 2 -->
      <div class="image-placeholder">
        <img src="Week15_Fig4_evolucion_temporal.png" alt="Smoothed temporal evolution of real vs inferred steering for PilotNet in Scenario 2" class="blog-image" style="width: 800px; height: auto;">
        <p class="image-caption">Figure 4: Smoothed temporal evolution of real vs inferred steering for PilotNet in Scenario 2.</p>
      </div>

      <p><strong>4. Online Testing Results:</strong><br>
        Both trained models (MobileNet and PilotNet) were tested in CARLA Simulator to validate their online performance. The following behaviors were observed:</p>

      <div class="online-results">
        <h4>MOBILENET (PYTORCH) - ONLINE PERFORMANCE:</h4>
        <p>• Stable driving with appropriate lane correction</p>
        <p>• Correct execution of turns</p>
        <p>• <strong>Limitation:</strong> In specific routes, the vehicle "gets lost" and leaves the road without being able to correct its trajectory</p>
        
        <h4>PILOTNET (TENSORFLOW) - ONLINE PERFORMANCE:</h4>
        <p>• Faster maneuver execution but less stable driving</p>
        <p>• Correct turns but occasional premature turn initiation</p>
        <p>• <strong>Issues:</strong> Early turns cause lane departure from the inner side, inadequate corrections, and occasional omission of turns</p>
      </div>

      <p><strong>5. Autonomous Driving Demonstrations:</strong><br>
        Below are video demonstrations showing both models in operation within CARLA Simulator:</p>

      <div class="video-container">
        <h4>MOBILENET AUTONOMOUS DRIVING DEMONSTRATION</h4>
        <div class="video-placeholder">
          <!-- Embedded YouTube video for MobileNet -->
          <iframe width="800" height="450" 
                  src="https://www.youtube.com/embed/JU88ndhu0Io" 
                  frameborder="0" 
                  allowfullscreen>
          </iframe>
          <p class="video-caption">Video 1: MobileNet model demonstrating stable driving with appropriate lane correction and correct turns. Note that in some specific routes, the vehicle "gets lost" and exits the road without correction capability.</p>
        </div>
      </div>

      <div class="video-container">
        <h4>PILOTNET AUTONOMOUS DRIVING DEMONSTRATION</h4>
        <div class="video-placeholder">
          <!-- Embedded YouTube video for PilotNet -->
          <iframe width="800" height="450" 
          	  src="https://youtube.com/embed/RA7hEmlLF1g" 
          	  frameborder="0" 
          	  allowfullscreen>
          </iframe>
          <p class="video-caption">Video 2: PilotNet model demonstrating faster but less stable maneuvers. The model shows correct turns but occasionally initiates turns prematurely, causing lane departure from the inner side. It also exhibits inadequate corrections and omits some turns.</p>
        </div>
      </div>

      <p><strong>6. Analysis and Next Steps:</strong><br>
        The DAgger-based dataset generation has provided valuable examples for improving lane-return behavior, though both models still exhibit specific limitations. MobileNet shows superior stability but lacks robustness in unfamiliar routes, while PilotNet offers faster response but suffers from timing and consistency issues.</p>

      <div class="next-steps">
        <h4>PLANNED IMPROVEMENTS:</h4>
        <p>• <strong>For MobileNet:</strong> Enhance route recognition and recovery mechanisms for unfamiliar paths</p>
        <p>• <strong>For PilotNet:</strong> Refine turn timing through additional temporal training data and implement better error correction feedback loops</p>
        <p>• <strong>Dataset expansion:</strong> Continue DAgger iterations to capture more edge cases and failure scenarios</p>
        <p>• <strong>Hybrid approach:</strong> Explore ensemble methods combining MobileNet's stability with PilotNet's responsiveness</p>
      </div>

      <p><strong>Conclusion:</strong><br>
        Week 15 demonstrated the effectiveness of the DAgger methodology for generating targeted training examples for challenging driving scenarios. While both models show improved performance with the enhanced dataset, distinct behavioral patterns emerge: MobileNet prioritizes stability at the cost of adaptability, while PilotNet favors responsiveness with reduced consistency. The next phase will focus on addressing these specific limitations while expanding the dataset to cover a wider range of challenging driving conditions, ultimately working toward a more robust and adaptable autonomous driving system.</p>
    </article>
  </main>

  <footer class="site-footer">
    <p>© 2026 - Academic Blog by Armando Mateus</p>
  </footer>

  <style>
    .online-results, .next-steps {
      background-color: #f5f5f5;
      border-left: 4px solid #4a6fa5;
      padding: 15px;
      margin: 20px 0;
      border-radius: 4px;
      font-family: monospace;
      font-size: 0.9em;
    }
    
    .online-results h4, .next-steps h4 {
      margin-top: 0;
      color: #2c3e50;
      border-bottom: 1px solid #ddd;
      padding-bottom: 5px;
    }
    
    .video-container {
      margin: 30px 0;
    }
    
    .video-container h4 {
      color: #2c3e50;
      margin-bottom: 15px;
      font-size: 1.1em;
    }
    
    .video-placeholder {
      text-align: center;
      margin: 20px 0;
    }
    
    .image-caption, .video-caption {
      font-style: italic;
      color: #666;
      text-align: center;
      margin-top: 8px;
      font-size: 0.9em;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }
    
    .video-caption {
      margin-top: 15px;
      padding: 10px;
      background-color: #f9f9f9;
      border-radius: 4px;
    }
  </style>
</body>
</html>
